<!DOCTYPE html>
<html lang="en">
  <head>
      <meta charset="UTF-8">
      <title>Very dumb NOSTR client</title>
  </head>
  <body>
  <button id="sendMessageButton" onclick="sendMessage()">Send Message</button>
  <script>

      let socket = new WebSocket('ws://localhost:8080/ws');
      const eventData = {
          "id": "fedcba551",
          "pubkey": "abcdef012345",
          "created_at": 1632871,
          "kind": 1,
          "tags": ["tag1", "tag2"],
          "content": "arbitrary content",
          "sig": "abcdef0123456789abcde"
      };
      const sampleMessage = JSON.stringify(["EVENT", eventData]);

      socket.addEventListener('open', function (event) {
        console.log('WebSocket connection opened:', event);
      });

      socket.addEventListener('message', function (message) {
        console.log('Message from relay:', message.data);
      });

      socket.addEventListener('close', function (message) {
        console.log('WebSocket connection closed:', message);
      });

      function sendMessage() {
          console.log('Sending message:', sampleMessage);
          socket.send(sampleMessage);
      }

    </script>
  </body>
</html>