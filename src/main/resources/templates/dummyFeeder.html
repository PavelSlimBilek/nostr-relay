<!DOCTYPE html>
<html lang="en">
  <head>
      <meta charset="UTF-8">
      <title>Very dumb NOSTR client</title>
  </head>
  <body>
    <script>

      let socket = new WebSocket('ws://localhost:8080/ws');

      socket.addEventListener('open', function (event) {
        console.log('WebSocket connection opened:', event);

        const eventData = {
          "id": "12345678901234567890123456789012",
          "pubkey": "abcdef0123456789abcdef0123456789",
          "created_at": 1632871685,
          "kind": 1,
          "tags": ["tag1", "tag2"],
          "content": "This is some arbitrary content",
          "sig": "abcdef0123456789abcdef0123456789abcdef0123456789abcdef0123456789"
        };
        const sampleMessage = JSON.stringify(["EVENT", eventData]);

        console.log('Sending message:', sampleMessage);
        socket.send(sampleMessage);
      });

      socket.addEventListener('message', function (message) {
        console.log('Message from relay:', message.data);
      });

      socket.addEventListener('close', function (message) {
        console.log('WebSocket connection closed:', message);
      });

    </script>
  </body>
</html>